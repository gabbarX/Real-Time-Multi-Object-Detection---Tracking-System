# ============================================================================
# YOLOv8 Training Configuration
# ============================================================================
# Usage: yolo detect train cfg=config/training.yaml

# --- Model ---
model: yolov8s.pt               # pretrained checkpoint (n/s/m/l/x)
task: detect

# --- Dataset ---
data: config/dataset.yaml
imgsz: 640

# --- Training Hyper-parameters ---
epochs: 150
batch: 16                        # adjust for GPU VRAM (16 for 8 GB)
patience: 20                     # early-stopping patience
optimizer: AdamW
lr0: 0.001
lrf: 0.01                       # final LR = lr0 * lrf
momentum: 0.937
weight_decay: 0.0005
warmup_epochs: 3
warmup_momentum: 0.8
warmup_bias_lr: 0.1
cos_lr: true                    # cosine LR scheduler

# --- Augmentation ---
hsv_h: 0.015
hsv_s: 0.7
hsv_v: 0.4
degrees: 5.0
translate: 0.1
scale: 0.5
shear: 2.0
perspective: 0.0
flipud: 0.0
fliplr: 0.5
mosaic: 1.0
mixup: 0.15
copy_paste: 0.1

# --- Loss ---
box: 7.5
cls: 0.5
dfl: 1.5

# --- Validation ---
val: true
split: val
iou: 0.7                        # IoU threshold for mAP
conf: 0.001                     # NMS confidence for val
max_det: 300

# --- Logging ---
project: runs/train
name: rtmodt_v1
exist_ok: false
plots: true
save: true
save_period: 10
resume: false

# --- Hardware ---
device: 0
workers: 8
amp: true                       # automatic mixed precision
